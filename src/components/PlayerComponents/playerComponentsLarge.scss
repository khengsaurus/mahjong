@import '../../App.scss';

@mixin flower-mod {
	&.flower {
		@include default-flower;
	}
	&.animal {
		height: $shown-tile-height-large - (2 * $tile-border-px);
		width: $shown-tile-width-large - (2 * $tile-border-px);
		@include default-tile-border;
	}
}

$tiles-per-row: $shown-tiles-per-row;
$tiles-per-column: $shown-tiles-per-row;

.row-section-large {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	padding: 2 * $tile-padding-large;
	&.bottom {
		flex-direction: column-reverse;
	}
	.htsh {
		display: flex;
		flex-direction: row;
		justify-content: center;
		padding: $tile-padding-large 0;
		min-height: $hidden-tile-height-large;
		&.unused {
			flex-flow: column wrap;
			align-self: center;
			align-content: center;
			justify-content: flex-end;
			max-height: (2 * $hidden-tile-height-large) + (4 * $tile-border-px);
			z-index: -1;
			&.front {
				flex-flow: column wrap-reverse;
				&.bottom {
					flex-flow: column-reverse wrap;
				}
			}
			&.back {
				flex-flow: column wrap;
				&.bottom {
					flex-flow: column-reverse wrap-reverse;
				}
			}
		}
	}

	.hth {
		height: $hidden-tile-height-large;
		width: $hidden-tile-width-large;
		@include default-tile-border;
	}

	.htss {
		display: flex;
		flex-flow: row wrap-reverse;
		justify-content: center;
		padding: $tile-padding-large;
		width: 80vw;
		// min-height: 2 * $shown-tile-height-large;
		&.top {
			flex-flow: row-reverse wrap;
		}
		&.shown {
		}
		&.discarded {
			// justify-content: flex-start;
			// width: 50vw;
			// If 70% of the screen width cannot accommodate 12 tiles in one row...
			@media all and (max-width: 12 * $shown-tile-width-large / 0.7) {
				width: 70vw;
			}
			@media all and (max-width: 9 * $shown-tile-width-large / 0.6) {
				width: 60vw;
			}
		}
	}

	.hts {
		height: $shown-tile-height-large;
		border-radius: $default-tile-border-radius;
		background: $color-tile-front;
		&.margin-right {
			margin-right: $hidden-tile-width-large;
		}
		&.margin-left {
			margin-left: $hidden-tile-width-large;
		}
		@include flower-mod;
		&.last {
			@include highlight;
		}
	}
}

.column-section-large {
	display: flex;
	flex-direction: row wrap;
	justify-content: center;
	align-items: center;
	padding: 2 * $tile-padding-large;
	&.right {
		flex-direction: row-reverse;
	}

	.vtsh {
		display: flex;
		flex-direction: column;
		justify-content: center;
		padding: 0 $tile-padding-large;
		min-width: $hidden-tile-height-large;
		&.unused {
			flex-flow: row-reverse wrap-reverse;
			align-content: flex-start;
			align-self: center;
			max-width: (2 * $hidden-tile-height-large) + (4 * $tile-border-px);
			z-index: -1;
			&.front {
				flex-flow: row wrap;
				&.right {
					flex-flow: row-reverse wrap-reverse;
				}
			}
			&.back {
				flex-flow: row wrap-reverse;
				&.right {
					flex-flow: row-reverse wrap;
				}
			}
		}
	}

	.vth {
		width: $hidden-tile-height-large;
		height: $hidden-tile-width-large;
		@include default-tile-border;
	}

	.vtss {
		display: flex;
		flex-flow: column-reverse wrap-reverse;
		justify-content: center;
		padding: $tile-padding-large;
		height: 80vh;
		//FIXME: how to make this dynamic...
		min-width: 2 * $shown-tile-height-large;
		&.left {
			transform: rotate(180deg);
		}
		&.shown {
		}
		&.discarded {
			// justify-content: flex-start;
			// If 40% of the screen height cannot accommodate 9 tiles in one row...
			@media all and (max-height: 12 * $shown-tile-width-large / 0.7) {
				height: 70vh;
			}
			@media all and (max-height: 9 * $shown-tile-width-large / 0.6) {
				height: 60vh;
			}
		}
	}

	.vts {
		height: $shown-tile-width-large;
		width: $shown-tile-height-large;
		&.margin-top {
			margin-top: $hidden-tile-width-large;
		}
		&.margin-bottom {
			margin-bottom: $hidden-tile-width-large;
		}
	}

	.vts-bg {
		height: $shown-tile-height-large;
		border-radius: $default-tile-border-radius;
		transform: $transform-rotate;
		background-color: $color-tile-front;
		align-self: flex-start;
		@include flower-mod;
		&.last {
			@include highlight;
		}
	}
}

.self-hidden-tiles-large {
	display: flex;
	flex-direction: row;
	align-self: center;
	padding: $tile-padding-large;
	z-index: 20;

	.self-hidden-tile {
		height: $self-hidden-tile-height-large;
		width: $self-hidden-tile-width-large;
		border-radius: $default-tile-border-radius;
		transition: 200ms;
		&.unselected {
			background: $color-tile-front;
		}
		&.last {
			margin-left: $hidden-tile-height-large;
		}
		@include selected;
	}

	.self-hidden-tile-bg {
		height: $self-hidden-tile-height-large;
	}
}
